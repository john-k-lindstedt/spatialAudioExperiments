<!DOCTYPE html>

<!--
States:
- 0: input ID  (self-paced)
- 1: instructions (self-paced)
- 2: trial stimuli (auto)
- 3: trial responses (self-paced)
- 4: end (exit plz, make sure to log)

typical path: 0-1-2-3-2-3-2-3-2-3-2-3-2-3-2-3-2-3-4



only really needs:
- text
- likert inputs panel
- button inputs panel
- ID input box

Dsecription of the panner node's features
https://developer.mozilla.org/en-US/docs/Web/API/PannerNode
-->

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Scenes Demo</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
  </head>
  <body>
    <div id="app">
      <div class="scene">
        <!-- ID prompt-->
        <div class="UIDEntry" v-if="state=='ENTER_ID'">
          <div>
            <p>Enter UID:</p>
            <input
              type="text"
              v-model="UID"
              placeholder="UID"
            />
          </div>
          <button @click="acceptID()" type="button">
            Submit
          </button>
        </div>

        <!-- stimulus display -->
        <div class="instruction" v-if="state=='INSTRUCT'">
          <p v-for="line in instructions">{{ line }}</p>
          <button @click="confirmInstructions()">
            Got it!
          </button>
        </div>

        <div class="stimulus" v-if="state=='TRIAL'">
          <!-- audio? -->

          <div class="prompt" v-if="substate=='PROMPT'">
            <span class="fixationcross"> + </span>
          </div>

          <div class="audio" v-if="substate=='AUDIO'"></div>

          <!-- effort q-->
          <div class="sa" v-if="substate=='EF'">
            <span class="efPrompt">
              How would you rate the difficulty of this trial?
            </span>
            <div>
              <div class="efButtons">
                <button
                  class="efAnswer"
                  type="button"
                  v-for="(text, ix) in efAnswers"
                  @click="efDone(text)">
                  {{text}}
                </button>
              </div>
            </div>
          </div>

          <!-- MC qs-->
          <div class="mc" v-if="substate=='MC'">
            <span class="mcPrompt"> {{ mcPrompt }} </span>
            <div class="mcButtons">
              <button
                class="mcAnswer"
                v-for="(text, ix) in mcChoices"
                @click="mcDone(text)">
                {{text}}
              </button>
            </div>
          </div>
        </div>

        <div class="end" v-if="state=='END'">
          <p>Thank you for participating in this experiment!
            You may now retrieve the experimenter. 
          </p>
          <button @click="logScreen()"> Finish experiment</button>
        </div>

        <div v-if="state=='LOG'">
          <button @click="downloadLogTsv()"> Download Log </button>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
